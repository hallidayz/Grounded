var h=Object.defineProperty;var c=(a,o)=>h(a,"name",{value:o,configurable:!0});import{x as m,i as $,t as g,v as y,q as S,a as b,b as D,s as G,d as C,y as v,z as M,r as w,B as E,c as T,k as L,C as R,g as A,D as x,e as N,j as I,l as j,h as U,f as k}from"./ai-services-4hnf0_d4.js";const z=Object.freeze(Object.defineProperty({__proto__:null,analyzeReflection:U,areModelsLoaded:S,checkBrowserCompatibility:E,clearModels:m,detectCrisis:L,generateEmotionalEncouragement:N,generateFallbackReport:x,generateFocusLens:k,generateHumanReports:A,generateValueMantra:I,getAllModelConfigs:C,getCompatibilityReport:D,getCompatibilitySummary:T,getCounselingCoachModel:M,getCrisisResponse:R,getIsModelLoading:w,getModelStatus:b,getMoodTrackerModel:v,initializeModels:$,preloadModels:g,preloadModelsContinuously:y,setSelectedModel:G,suggestGoal:j},Symbol.toStringTag,{value:"Module"})),f=new Map;function _(a,o){if(f.has(a))return f.get(a);const r=o();return f.set(a,r),r}c(_,"getCachedTemplate");function F(){return typeof navigator<"u"&&"share"in navigator}c(F,"isWebShareAvailable");async function V(a,o=[]){try{if(F()){const r={title:a.subject,text:a.body};try{return await navigator.share(r),!0}catch(d){d.name!=="AbortError"&&console.warn("Web Share failed, using mailto fallback:",d)}}return O(a,o)}catch(r){return console.error("Email share error:",r),!1}}c(V,"shareViaEmail");function O(a,o){try{const r=o.length>0?o.join(","):"",d=encodeURIComponent(a.subject),u=encodeURIComponent(a.body),e=`mailto:${r}?subject=${d}&body=${u}`;return window.location.href=e,!0}catch(r){return console.error("Mailto link error:",r),!1}}c(O,"openMailtoLink");function W(a,o,r){const d=a.length>0?`${new Date(a[a.length-1].date).toLocaleDateString()} - ${new Date(a[0].date).toLocaleDateString()}`:"No date range",u=`Grounded Therapy Integration Report - ${d}`;let e=r||"";return e||(e=`Grounded by AC MiNDS - Therapy Integration Summary

`,e+=`Date Range: ${d}
`,e+=`Total Entries: ${a.length}

`,a.length>0&&(e+=`Recent Activity:
`,a.slice(0,10).forEach(t=>{const n=o.find(s=>s.id===t.valueId);let i=`
- ${new Date(t.date).toLocaleDateString()}: ${n?.name||"General"}`;t.deepReflection&&(i+=`
  Deep Reflection: ${t.deepReflection}`),t.goalText&&(i+=`
  Committed Action/Goal: ${t.goalText}`),t.reflectionAnalysis&&(i+=`
  Suggested Next Steps: ${t.reflectionAnalysis}`),t.emotionalState&&(i+=`
  Emotional State: ${t.emotionalState}`,t.selectedFeeling&&(i+=` (${t.selectedFeeling})`)),t.note&&!t.deepReflection&&(i+=`
  Note: ${t.note}`),i+=`
`,e+=i}))),e+=`

---
`,e+=`This report was generated by Grounded by AC MiNDS, a privacy-first therapy integration app.
`,e+=`All data processing happens on-device. This report is for sharing with your LCSW.
`,{subject:u,body:e}}c(W,"generateEmailReport");function B(a,o,r,d=!0){const u=new Date().toLocaleDateString(),e=`Grounded Goals Update - ${u}`;let n=_("goals_email_header",()=>`Grounded by AC MiNDS - Goals & Progress Update

`);n+=`Date: ${u}

`,r.length>0&&(n+=`âœ… Completed Goals:
`,r.forEach(s=>{const p=o.find(l=>l.id===s.valueId);n+=`
- ${p?.name||"General"}: ${s.text}
`,s.updates.length>0&&d?(n+=`  Progress Updates:
`,s.updates.forEach(l=>{n+=`    â€¢ ${new Date(l.timestamp).toLocaleDateString()}${l.mood?` ${l.mood}`:""}: ${l.note}
`})):s.updates.length>0&&(n+=`  Total Updates: ${s.updates.length}
`)}),n+=`
`);const i=a.filter(s=>!s.completed);return i.length>0&&(n+=`ðŸ“‹ Active Goals & Progress:
`,i.forEach(s=>{const p=o.find(l=>l.id===s.valueId);n+=`
- ${p?.name||"General"}: ${s.text}
`,n+=`  Frequency: ${s.frequency}
`,s.updates.length>0?d?(n+=`  Recent Progress Updates:
`,s.updates.slice().reverse().slice(0,5).forEach(l=>{n+=`    â€¢ ${new Date(l.timestamp).toLocaleDateString()}${l.mood?` ${l.mood}`:""}: ${l.note}
`}),s.updates.length>5&&(n+=`    ... and ${s.updates.length-5} more update(s)
`)):n+=`  Total Updates: ${s.updates.length}
`:n+=`  No updates yet
`})),n+=`

---
`,n+=`This update was generated by Grounded by AC MiNDS.
`,n+=`Regular progress updates help track growth and inform therapy sessions.
`,{subject:e,body:n}}c(B,"generateGoalsEmail");function H(a,o,r,d){const u=`Grounded Complete Data Export - ${new Date().toLocaleDateString()}`;let e=`Grounded by AC MiNDS - Complete Data Export

`;return e+=`Export Date: ${new Date().toISOString()}
`,e+=`Total Logs: ${a.length}
`,e+=`Total Goals: ${o.length}
`,e+=`Active Values: ${r.length}

`,e+=`=== LOGS ===

`,a.length===0?e+=`No logs recorded.

`:a.forEach(t=>{const n=r.find(i=>i.id===t.valueId);e+=`[${new Date(t.date).toLocaleDateString()}] ${n?.name||"General"}
`,e+=`Mood: ${t.mood||"N/A"}
`,e+=`Note: ${t.note}
`,t.goalText&&(e+=`Related Goal: ${t.goalText}
`),e+=`
`}),e+=`=== GOALS ===

`,o.length===0?e+=`No goals set.

`:o.forEach(t=>{const n=r.find(i=>i.id===t.valueId);e+=`${t.completed?"âœ…":"ðŸ“‹"} ${n?.name||"General"}
`,e+=`Goal: ${t.text}
`,e+=`Frequency: ${t.frequency}
`,e+=`Created: ${new Date(t.createdAt).toLocaleDateString()}
`,t.updates.length>0&&(e+=`Updates:
`,t.updates.forEach(i=>{e+=`  - ${new Date(i.timestamp).toLocaleDateString()}: ${i.note}
`})),e+=`
`}),e+=`
---
`,e+=`This export contains all your Grounded data.
`,e+=`Keep this email secure and only share with trusted healthcare providers.
`,{subject:u,body:e}}c(H,"generateDataExportEmail");function J(a,o){localStorage.setItem(`emailSchedule_${a}`,JSON.stringify(o))}c(J,"saveEmailSchedule");export{H as a,B as b,J as c,z as d,W as g,F as i,V as s};
