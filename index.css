@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for Branding System */
:root {
  /* Core Brand */
  --navy-primary: #2c5282;
  --navy-dark: #1e3a5f;
  --navy-light: #5b7c99;
  
  /* Accent */
  --yellow-warm: #f7c948;
  --yellow-light: #ffd166;
  --gold-muted: #e6b84d;
  
  /* Mood Colors */
  --calm-sage: #a8c5a0;
  --calm-lavender: #c4b5d5;
  --warm-coral: #ffb088;
  --energized-mint: #90e0b6;
  
  /* Neutrals */
  --bg-primary: #fafaf9;
  --bg-secondary: #f8f7f4;
  --bg-tertiary: #f0eeeb;
  --border-soft: #e5e3df;
  --text-primary: #4a5568;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  
  /* Dark Mode */
  --dark-bg-primary: #1b3448;
  --dark-bg-secondary: #243b53;
  --dark-bg-tertiary: #2d4a5f;
  --dark-border: #334e68;
}

/* Mobile-first base styles */
body {
  font-size: 16px; /* Mobile base */
}

@media (min-width: 768px) {
  body {
    font-size: 18px; /* Tablet */
  }
}

@media (min-width: 1024px) {
  body {
    font-size: 20px; /* Desktop */
  }
}

/* ============================================
   COMPONENT CLASSES (Tailwind @layer)
   Use these for quick, reusable styling
   ============================================ */

@layer components {
  /* Button Components */
  .btn-primary {
    @apply px-6 py-3 sm:py-4 bg-navy-primary text-white dark:bg-navy-primary dark:text-white rounded-lg sm:rounded-xl font-black uppercase tracking-widest text-sm sm:text-base hover:opacity-90 active:scale-[0.98] transition-all shadow-lg;
  }
  
  .btn-accent {
    @apply px-6 py-3 sm:py-4 bg-yellow-warm text-text-primary dark:bg-yellow-warm dark:text-text-primary rounded-lg sm:rounded-xl font-black uppercase tracking-widest text-sm sm:text-base hover:opacity-90 active:scale-[0.98] shadow-lg transition-all;
  }
  
  .btn-secondary {
    @apply px-6 py-3 sm:py-4 bg-bg-primary dark:bg-dark-bg-primary/50 text-text-primary dark:text-white rounded-lg sm:rounded-xl font-black uppercase tracking-widest text-sm sm:text-base hover:opacity-80 transition-all border border-border-soft dark:border-dark-border/30;
  }
  
  .btn-icon {
    @apply w-8 h-8 flex items-center justify-center rounded-full text-text-secondary dark:text-text-secondary hover:text-yellow-warm dark:hover:text-yellow-warm hover:bg-yellow-warm/10 dark:hover:bg-yellow-warm/20 transition-all;
  }
  
  .btn-small {
    @apply px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-black text-[8px] sm:text-[9px] uppercase tracking-widest transition-all;
  }
  
  /* Card Components */
  .card-standard {
    @apply bg-white dark:bg-dark-bg-secondary rounded-xl sm:rounded-2xl border border-border-soft dark:border-dark-border shadow-sm p-4 sm:p-5;
  }
  
  .card-elevated {
    @apply bg-white dark:bg-dark-bg-primary rounded-2xl sm:rounded-3xl border border-border-soft dark:border-dark-border shadow-2xl p-6 sm:p-8;
  }
  
  .card-subtle {
    @apply bg-bg-secondary dark:bg-dark-bg-secondary rounded-xl p-4 sm:p-5;
  }
  
  /* Typography Components */
  .text-heading-1 {
    @apply text-2xl sm:text-3xl font-black text-text-primary dark:text-white tracking-tight;
  }
  
  .text-heading-2 {
    @apply text-xl sm:text-2xl font-black text-text-primary dark:text-white tracking-tight;
  }
  
  .text-heading-3 {
    @apply text-lg sm:text-xl font-semibold text-text-primary dark:text-white;
  }
  
  .text-body {
    @apply text-sm sm:text-base text-text-primary dark:text-white leading-relaxed;
  }
  
  .text-body-secondary {
    @apply text-sm sm:text-base text-text-secondary dark:text-text-secondary leading-relaxed;
  }
  
  .text-label {
    @apply text-[10px] font-black text-text-primary/60 dark:text-white/60 uppercase tracking-widest;
  }
  
  /* Input Components */
  .input-text {
    @apply w-full bg-bg-secondary dark:bg-dark-bg-primary/50 border border-border-soft dark:border-dark-border/30 rounded-xl p-3 font-black text-text-primary dark:text-white focus:ring-2 focus:ring-yellow-warm focus:border-yellow-warm transition-all outline-none;
  }
  
  .input-textarea {
    @apply w-full bg-bg-secondary dark:bg-dark-bg-primary/50 border-none rounded-xl sm:rounded-2xl p-3 sm:p-4 focus:ring-2 focus:ring-yellow-warm/30 outline-none text-text-primary dark:text-white min-h-[140px] sm:min-h-[160px] resize-none text-[10px] sm:text-[11px] leading-relaxed shadow-inner transition-all;
  }
  
  /* Utility Classes */
  .divider {
    @apply border-t border-border-soft dark:border-dark-border;
  }
  
  .section-spacing {
    @apply space-y-4 sm:space-y-6;
  }
}

/* Animation Keyframes */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes pop {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

/* Animation Utilities */
.animate-fade-in {
  animation: fade-in 0.3s ease-in-out;
}

.animate-pop {
  animation: pop 0.3s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.4s ease-out;
}

.animate-slide-down {
  animation: slide-down 0.4s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out;
}

.animate-shimmer {
  animation: shimmer 2s infinite linear;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  background-size: 1000px 100%;
}

/* Virtual Scrolling Performance Optimizations */
.virtual-list-container {
  /* Enable hardware acceleration for smooth scrolling */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: scroll-position;
  /* Optimize scrolling on mobile */
  -webkit-overflow-scrolling: touch;
  /* Prevent layout shifts during scroll */
  contain: layout style paint;
  /* Optimize scroll performance */
  overscroll-behavior: contain;
  /* Smooth scrolling */
  scroll-behavior: smooth;
}

.virtual-list-item {
  /* Optimize item rendering */
  will-change: auto;
  /* Prevent repaints during scroll */
  contain: layout style;
  /* Force GPU layer for items */
  transform: translateZ(0);
}

/* Smooth scrolling for virtual lists */
.virtual-list-scroll {
  scroll-behavior: smooth;
  /* Optimize scroll performance */
  overscroll-behavior: contain;
  /* Enable momentum scrolling on iOS */
  -webkit-overflow-scrolling: touch;
}

/* Optimize transform performance */
[style*="translate3d"] {
  /* Force GPU acceleration */
  transform: translate3d(0, 0, 0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Clinical Report Goal Spacing Fix */
.clinical-report h3 {
  margin-top: 2rem !important;
  margin-bottom: 1rem !important;
  page-break-after: avoid;
  clear: both;
}

.clinical-report h3:first-child {
  margin-top: 0 !important;
}

.clinical-report ul,
.clinical-report ol {
  margin-top: 1rem !important;
  margin-bottom: 1.5rem !important;
  padding-left: 1.5rem;
  clear: both;
}

.clinical-report li {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  display: block;
}

.clinical-report p {
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
  clear: both;
}

/* Ensure goal sections don't overlap - add spacing between sections */
.clinical-report > * + h3 {
  margin-top: 2.5rem !important;
}

.clinical-report > * + ul,
.clinical-report > * + ol {
  margin-top: 1.5rem !important;
}

/* Prevent overlapping with strong spacing for goal sections */
.clinical-report h3 + ul,
.clinical-report h3 + ol {
  margin-top: 1.5rem !important;
  margin-bottom: 2rem !important;
}

.clinical-report h3 + p {
  margin-top: 1rem !important;
  margin-bottom: 1.5rem !important;
}

